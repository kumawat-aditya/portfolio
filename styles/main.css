/* ============================================================
 * Main Stylesheet
 * ============================================================
 * Imports Tailwind, the theme config, and all custom styles.
 * 
 * Theme customization → edit styles/theme.css
 * ============================================================ */

@import "tailwindcss";
@import "./theme.css";

/* ========================
 * Tailwind Theme Tokens
 * ========================
 * These define the Tailwind utility-class colors.
 * e.g. text-cream-100, bg-accent-500, etc.
 */
@theme {
  /* Font family */
  --font-sans: "Inter", sans-serif;

  /* Breakpoints */
  --breakpoint-2xl: 1536px;
  --breakpoint-3xl: 1920px;

  /* Gray scale */
  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;
  --color-gray-950: #030303;

  /* Cream palette */
  --color-cream-50: #fffdf5;
  --color-cream-100: #fff9e6;
  --color-cream-200: #fff3cc;
  --color-cream-300: #ffedb3;
  --color-cream-400: #ffe799;
  --color-cream-500: #f5e6d3;

  /* Accent palette */
  --color-accent-400: #60a5fa;
  --color-accent-500: #3b82f6;
  --color-accent-600: #2563eb;

  /* Letter spacing */
  --tracking-tighter: -0.04em;
  --tracking-tight: -0.02em;
  --tracking-normal: 0;
  --tracking-wide: 0.02em;

  /* Animations */
  --animate-scroll: scroll 30s linear infinite;
  --animate-fade-in-up: fadeInUp 0.3s ease-out forwards;

  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  @keyframes fadeInUp {
    0% {
      opacity: 0;
      transform: translateY(20px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
}

/* ============================================================
 * BASE STYLES
 * ============================================================ */

body {
  font-family: "Inter", sans-serif;
  background-color: var(--bg-primary);
  color: #f5e6d3;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
  cursor: none;
}

/* Fixed background layer — avoids background-attachment: fixed repaint penalty */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 0;
  background-color: var(--bg-primary);
  background-image:
    radial-gradient(
      ellipse 100% 80% at 50% -30%,
      var(--gradient-blob-1),
      transparent 60%
    ),
    radial-gradient(
      ellipse 80% 60% at 100% 80%,
      var(--gradient-blob-2),
      transparent 60%
    ),
    radial-gradient(
      ellipse 60% 50% at 0% 100%,
      var(--gradient-blob-3),
      transparent 60%
    ),
    radial-gradient(
      ellipse 40% 30% at 80% 20%,
      var(--gradient-blob-4),
      transparent 50%
    );
  pointer-events: none;
}

/* Secondary glow overlay */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  background:
    radial-gradient(ellipse 60% 40% at 50% 0%, var(--glow-1), transparent),
    radial-gradient(circle at 20% 80%, var(--glow-2), transparent 35%),
    radial-gradient(circle at 80% 20%, var(--glow-3), transparent 30%);
  pointer-events: none;
  z-index: 1;
}

/* ============================================================
 * SCROLLBAR
 * ============================================================ */

/* Hide scrollbar for Chrome, Safari and Opera */
.no-scrollbar::-webkit-scrollbar,
.scroll-container::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
.no-scrollbar,
.scroll-container {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Scroll container */
.scroll-container {
  /* smooth scroll handled by Lenis */
  -webkit-overflow-scrolling: touch;
}

/* Custom selection */
::selection {
  background-color: var(--selection-bg);
  color: var(--selection-text);
}

/* ============================================================
 * GLASS CARD
 * ============================================================ */

.glass-card {
  background: var(--card-bg);
  backdrop-filter: blur(var(--card-blur)) saturate(var(--card-saturate));
  -webkit-backdrop-filter: blur(var(--card-blur)) saturate(var(--card-saturate));
  box-shadow: var(--card-shadow);
  transition:
    box-shadow 0.5s ease,
    border-color 0.3s ease,
    background 0.5s ease;
}

.glass-card::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  opacity: 0;
  transition: opacity 0.5s ease;
  pointer-events: none;
  background: radial-gradient(
    600px circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
    var(--card-glow-color),
    transparent 40%
  );
}

.glass-card:hover::before {
  opacity: 1;
}

.glass-card:hover {
  border-color: var(--card-border-hover);
  box-shadow: var(--card-shadow-hover);
}

/* ============================================================
 * CURSOR STYLES
 * ============================================================ */

/* Force custom cursor on all interactive elements */
a,
button,
[role="button"],
input[type="submit"],
input[type="button"],
.cursor-pointer,
.cursor-grab {
  cursor: none !important;
}

/* Custom animated scope cursor */
.custom-cursor {
  width: 0;
  height: 0;
  position: fixed;
  pointer-events: none;
  z-index: 99999;
  transform: translate(-50%, -50%);
}

/* Four crosshair lines */
.cursor-line {
  position: absolute;
  background: var(--cursor-line-color);
  transition: all 0.2s ease-out;
}

.cursor-line-top {
  width: 1px;
  height: 8px;
  left: 50%;
  top: -14px;
  transform: translateX(-50%);
}

.cursor-line-bottom {
  width: 1px;
  height: 8px;
  left: 50%;
  bottom: -14px;
  transform: translateX(-50%);
}

.cursor-line-left {
  width: 8px;
  height: 1px;
  top: 50%;
  left: -14px;
  transform: translateY(-50%);
}

.cursor-line-right {
  width: 8px;
  height: 1px;
  top: 50%;
  right: -14px;
  transform: translateY(-50%);
}

/* Center dot */
.custom-cursor-dot {
  width: 6px;
  height: 6px;
  background: var(--cursor-dot-bg);
  border-radius: 50%;
  position: fixed;
  pointer-events: none;
  z-index: 99999;
  transform: translate(-50%, -50%);
  box-shadow: var(--cursor-dot-shadow);
  transition: all 0.2s ease-out;
}

/* Hover state — lines move farther */
.custom-cursor.hover .cursor-line-top {
  top: -22px;
  width: 3px;
  border-radius: 50%;
  background: var(--cursor-hover-accent-1);
}

.custom-cursor.hover .cursor-line-bottom {
  bottom: -22px;
  width: 3px;
  border-radius: 50%;
  background: var(--cursor-hover-accent-1);
}

.custom-cursor.hover .cursor-line-left {
  left: -22px;
  height: 3px;
  border-radius: 50%;
  background: var(--cursor-hover-accent-2);
}

.custom-cursor.hover .cursor-line-right {
  right: -22px;
  height: 3px;
  border-radius: 50%;
  background: var(--cursor-hover-accent-2);
}

/* Grabbing state — lines merge into center */
.custom-cursor.grabbing .cursor-line-top {
  top: -3px;
  height: 3px;
  opacity: 0;
}

.custom-cursor.grabbing .cursor-line-bottom {
  bottom: -3px;
  height: 3px;
  opacity: 0;
}

.custom-cursor.grabbing .cursor-line-left {
  left: -3px;
  width: 3px;
  opacity: 0;
}

.custom-cursor.grabbing .cursor-line-right {
  right: -3px;
  width: 3px;
  opacity: 0;
}

.custom-cursor-dot.grabbing {
  width: 36px;
  height: 36px;
  background: var(--cursor-grab-bg);
  border: 1px solid var(--cursor-grab-border);
  box-shadow: var(--cursor-grab-shadow);
}

/* Click animation */
.custom-cursor.click .cursor-line {
  background: var(--cursor-click-color);
}

.custom-cursor.click .cursor-line-top {
  top: -18px;
}

.custom-cursor.click .cursor-line-bottom {
  bottom: -18px;
}

.custom-cursor.click .cursor-line-left {
  left: -18px;
}

.custom-cursor.click .cursor-line-right {
  right: -18px;
}

/* Hide custom cursor on touch devices */
@media (hover: none) and (pointer: coarse) {
  body {
    cursor: auto !important;
  }

  a,
  button,
  [role="button"],
  .cursor-pointer,
  .cursor-grab {
    cursor: auto !important;
  }

  .custom-cursor,
  .custom-cursor-dot {
    display: none !important;
  }
}

/* ============================================================
 * ANIMATIONS
 * ============================================================ */

/* Fade-in on scroll */
.fade-in-section {
  opacity: 0;
  transform: translateY(30px);
  transition:
    opacity 0.8s ease-out,
    transform 0.8s ease-out;
}

.fade-in-section.visible {
  opacity: 1;
  transform: translateY(0);
}

/* Staggered fade-in for children */
.fade-in-section.visible > * {
  animation: fadeInUp 0.6s ease-out forwards;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ============================================================
 * LIGHT THEME — Tailwind Utility Overrides
 * ============================================================
 * These override Tailwind utility classes for light mode.
 * Grouped by category for easy maintenance.
 * No !important needed — unlayered CSS beats @layer utilities.
 * ============================================================ */

/* --- Body --- */
html.light body {
  background-color: var(--bg-primary);
  color: #1e293b;
}

html.light .bg-black {
  background-color: #f8fafc;
}

/* --- Primary Text (headings, names) --- */
html.light .text-cream,
html.light .text-cream-100,
html.light .text-cream-200,
html.light .text-cream-500 {
  color: #0f172a;
}

/* --- Muted Text --- */
html.light .text-cream\/50,
html.light .text-cream\/60,
html.light .text-cream\/70,
html.light .text-cream-500\/50,
html.light .text-cream-500\/60,
html.light .text-cream-500\/70 {
  color: #475569;
}

/* --- Subtle Text --- */
html.light .text-cream\/40,
html.light .text-cream-500\/40 {
  color: #64748b;
}

html.light .text-cream\/80 {
  color: #1e293b;
}

/* --- White Text --- */
html.light .text-white {
  color: #0f172a;
}

html.light .text-white\/60,
html.light .text-white\/70,
html.light .text-white\/80 {
  color: #334155;
}

/* --- Accent Colors (richer blue in light) --- */
html.light .text-accent-400 {
  color: #2563eb;
}

html.light .text-accent-500 {
  color: #1d4ed8;
}

/* --- Buttons --- */
html.light .bg-cream,
html.light .bg-cream-100 {
  background-color: #1e293b;
  color: #f8fafc;
}

html.light .bg-cream-100:hover,
html.light .hover\:bg-white:hover {
  background-color: #0f172a;
  color: #ffffff;
}

/* --- Background Overlays (white → dark in light mode) --- */
html.light .bg-white\/5 {
  background-color: rgba(15, 23, 42, 0.03);
}

html.light .bg-white\/10 {
  background-color: rgba(15, 23, 42, 0.06);
}

html.light .bg-white\/20 {
  background-color: rgba(15, 23, 42, 0.08);
}

/* --- Accent Backgrounds --- */
html.light .bg-accent-500\/10,
html.light .bg-accent\/10 {
  background-color: rgba(37, 99, 235, 0.12);
}

/* --- Borders --- */
html.light .border-white\/5 {
  border-color: rgba(148, 163, 184, 0.2);
}

html.light .border-white\/10 {
  border-color: rgba(148, 163, 184, 0.25);
}

html.light .border-white\/20 {
  border-color: rgba(148, 163, 184, 0.35);
}

html.light .border-accent-500\/20,
html.light .border-accent\/20 {
  border-color: rgba(37, 99, 235, 0.3);
}

html.light .hover\:border-white\/20:hover {
  border-color: rgba(59, 130, 246, 0.4);
}

/* --- Dot Indicators --- */
html.light .bg-accent-500 {
  background-color: #2563eb;
  box-shadow: 0 0 12px rgba(37, 99, 235, 0.5);
}

/* --- Navigation --- */
html.light nav {
  border-bottom: 1px solid rgba(71, 85, 105, 0.1);
}

html.light nav .nav-link,
html.light nav .text-cream-100,
html.light nav .text-cream-100\/60,
html.light nav .text-cream-100\/70,
html.light nav .text-cream-500,
html.light header .text-cream-100,
html.light header .text-cream-500 {
  color: #475569;
}

html.light nav .nav-link:hover,
html.light nav .hover\:text-cream-100:hover,
html.light header .hover\:text-cream-100:hover {
  color: #0f172a;
}

html.light nav a.text-cream-100\/60 {
  color: #64748b;
}

html.light nav a.hover\:text-accent-400:hover {
  color: #2563eb;
}

html.light nav .bg-white\/10 {
  background-color: rgba(71, 85, 105, 0.2);
}

html.light nav .border-white\/10 {
  border-color: rgba(71, 85, 105, 0.2);
}

/* --- Nav Background (scrolled state) --- */
html.light .bg-black\/80 {
  background-color: rgba(241, 245, 249, 0.9);
  backdrop-filter: blur(20px) saturate(150%);
  -webkit-backdrop-filter: blur(20px) saturate(150%);
}

html.light .bg-black\/60 {
  background-color: rgba(15, 23, 42, 0.4);
}

/* --- Modal --- */
html.light .fixed .glass-card,
html.light [style*="z-index"][style*="9999"] .glass-card {
  background: rgba(30, 41, 59, 0.88);
  border-color: rgba(100, 116, 139, 0.4);
  box-shadow:
    0 25px 50px rgba(15, 23, 42, 0.25),
    0 10px 20px rgba(15, 23, 42, 0.15);
}

html.light .fixed .glass-card .text-cream-100,
html.light .fixed .glass-card .text-cream-500,
html.light .fixed .glass-card h3,
html.light .fixed .glass-card h4 {
  color: #f1f5f9;
}

html.light .fixed .glass-card .text-cream-500\/60,
html.light .fixed .glass-card p,
html.light .fixed .glass-card li {
  color: rgba(203, 213, 225, 0.9);
}

html.light .fixed .glass-card .bg-cream-100 {
  background-color: #f1f5f9;
  color: #0f172a;
}

html.light .fixed .glass-card .text-black {
  color: #0f172a;
}

html.light .fixed .glass-card .border-white\/10,
html.light .fixed .glass-card .border-white\/5 {
  border-color: rgba(148, 163, 184, 0.3);
}

html.light .fixed .glass-card button:hover {
  color: #93c5fd;
}

html.light .fixed .glass-card .text-cream-500\/50,
html.light .fixed .glass-card .text-cream-500\/30 {
  color: rgba(203, 213, 225, 0.7);
}

html.light .fixed .glass-card .text-cream-500\/50:hover {
  color: #93c5fd;
}

/* --- Tech Tags --- */
html.light .text-accent-400.bg-accent-500\/10 {
  color: #1d4ed8;
  background-color: rgba(37, 99, 235, 0.1);
}

/* --- Button Text --- */
html.light .text-black {
  color: #f8fafc;
}

/* --- Footer (dark frost) --- */
html.light footer {
  background-color: rgba(30, 41, 59, 0.95);
}

html.light footer .text-cream-100,
html.light footer .text-cream-500,
html.light footer h3,
html.light footer span {
  color: #e2e8f0;
}

html.light footer .text-cream-500\/40,
html.light footer .text-cream-500\/60,
html.light footer p {
  color: rgba(203, 213, 225, 0.75);
}

html.light footer .border-white\/5,
html.light footer .border-white\/10 {
  border-color: rgba(148, 163, 184, 0.2);
}

html.light footer a:hover,
html.light footer a:hover *,
html.light footer button:hover,
html.light footer button:hover * {
  color: #93c5fd;
}

/* --- Hover Colors --- */
html.light .hover\:text-accent-400:hover {
  color: #2563eb;
}

html.light a.flex:hover,
html.light button:hover {
  color: #2563eb;
}

/* --- Prevent text hover color leaking --- */
html.light p,
html.light span:not(.hidden),
html.light li {
  transition: none;
}

html.light p:hover,
html.light li:hover {
  color: inherit;
}

/* --- Surface Hovers --- */
html.light .bg-white\/5:hover,
html.light .bg-white\/10:hover {
  background-color: rgba(15, 23, 42, 0.12);
}

html.light .text-cream-500\/50:hover,
html.light .text-cream-500\/60:hover {
  color: #2563eb;
}

/* --- Private Repo --- */
html.light .text-cream-500\/30 {
  color: #94a3b8;
}

/* --- Remove text shadows --- */
html.light .text-cream-500\/50,
html.light .text-cream-500\/60,
html.light .text-cream-500\/70,
html.light .text-cream-100\/50,
html.light .text-cream-100\/30,
html.light .text-cream-100\/40 {
  text-shadow: none;
}

/* --- Prevent text hover color change --- */
html.light p.text-cream-500\/60:hover,
html.light p.text-cream-500\/50:hover,
html.light span.text-cream-500\/50:hover,
html.light ul li:hover,
html.light ol li:hover {
  color: inherit;
  text-shadow: none;
}

/* --- Timeline Glow --- */
html.light .shadow-\[0_0_10px_rgba\(59\,130\,246\,0\.5\)\] {
  box-shadow: 0 0 12px rgba(37, 99, 235, 0.4);
}

html.light .shadow-\[0_0_15px_rgba\(255\,255\,255\,0\.2\)\] {
  box-shadow: 0 0 15px rgba(37, 99, 235, 0.25);
}

/* --- Scrollbar (light mode) --- */
html.light .scroll-container::-webkit-scrollbar-thumb {
  background-color: rgba(148, 163, 184, 0.5);
}

html.light .scroll-container::-webkit-scrollbar-track {
  background-color: rgba(148, 163, 184, 0.1);
}
